(function(a){function e(a,b,c){var d=window.location.origin;this.cancelable=this.cancelBubble=this.bubbles=!1;this.data=b||null;this.origin=d||"";this.lastEventId=c||"";this.type=a||"message"}if(!a.EventSource||a.ya){var b=(a.ya||"")+"EventSource",d=function(a,b){if(!a||"string"!=typeof a)throw new SyntaxError("Not enough arguments");this.URL=a;this.Ya(b);var c=this;setTimeout(function(){c.ka()},0)};d.prototype={CONNECTING:0,OPEN:1,CLOSED:2,da:{ja:!1,Ka:"eventsource",interval:500,U:262144,X:3E5,s:{evs_buffer_size_limit:262144},
na:{Accept:"text/event-stream","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}},Ya:function(a){var b=this.da,c;for(c in b)b.hasOwnProperty(c)&&(this[c]=b[c]);for(c in a)c in b&&a.hasOwnProperty(c)&&(this[c]=a[c]);this.s&&this.U&&(this.s.evs_buffer_size_limit=this.U);if("undefined"===typeof console||"undefined"===typeof console.log)this.ja=!1},log:function(a){this.ja&&console.log("["+this.Ka+"]:"+a)},ka:function(){try{this.readyState!=this.CLOSED&&(this.ca(),this.readyState=this.CONNECTING,
this.cursor=0,this.V="",this.o=new this.C(this),this.la())}catch(a){this.log("There were errors inside the pool try-catch"),this.dispatchEvent("error",{type:"error",data:a.message})}},G:function(a){var b=this;b.readyState=b.CONNECTING;b.dispatchEvent("error",{type:"error",data:"Reconnecting "});this.F=setTimeout(function(){b.ka()},a||0)},ca:function(){this.log("evs cleaning up");this.F&&(clearInterval(this.F),this.F=null);this.A&&(clearInterval(this.A),this.A=null);this.o&&(this.o.abort(),this.o=
null)},la:function(){if(this.X){this.A&&clearInterval(this.A);var a=this;this.A=setTimeout(function(){a.log("Timeout! silentTImeout:"+a.X);a.G()},this.X)}},close:function(){this.readyState=this.CLOSED;this.log("Closing connection. readyState: "+this.readyState);this.ca()},O:function(){var a=this.o;if(a.ia()&&!a.ga()){this.la();this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent("open",{type:"open"}));var b=a.fa();b.length>this.U&&(this.log("buffer.length > this.bufferSizeLimit"),
this.G());0==this.cursor&&0<b.length&&"\ufeff"==b.substring(0,1)&&(this.cursor=1);var c=this.Ja(b);c[0]>=this.cursor&&(c=c[1],this.Wa(b.substring(this.cursor,c)),this.cursor=c);a.ha()&&(this.log("request.isDone(). reopening the connection"),this.G(this.interval))}else this.readyState!==this.CLOSED&&(this.log("this.readyState !== this.CLOSED"),this.G(this.interval))},Wa:function(a){a=this.V+this.La(a);a=a.split("\n\n");var b,c,d,p,r;for(b=0;b<a.length-1;b++){d="message";p=[];parts=a[b].split("\n");
for(c=0;c<parts.length;c++)r=this.Za(parts[c]),0==r.indexOf("event")?d=r.replace(/event:?\s*/,""):0==r.indexOf("retry")?(r=parseInt(r.replace(/retry:?\s*/,"")),isNaN(r)||(this.interval=r)):0==r.indexOf("data")?p.push(r.replace(/data:?\s*/,"")):0==r.indexOf("id:")?this.lastEventId=r.replace(/id:?\s*/,""):0==r.indexOf("id")&&(this.lastEventId=null);p.length&&this.dispatchEvent(d,new e(d,p.join("\n"),this.lastEventId))}this.V=a[a.length-1]},dispatchEvent:function(a,b){var c=this["_"+a+"Handlers"];if(c)for(var d=
0;d<c.length;d++)c[d].call(this,b);this["on"+a]&&this["on"+a].call(this,b)},addEventListener:function(a,b){this["_"+a+"Handlers"]||(this["_"+a+"Handlers"]=[]);this["_"+a+"Handlers"].push(b)},F:null,o:null,lastEventId:null,V:"",cursor:0,readyState:0,ma:function(a,b){var c=[];if(b){var d,e,r=encodeURIComponent;for(d in b)b.hasOwnProperty(d)&&(e=r(d)+"="+r(b[d]),c.push(e))}return 0<c.length?-1==a.indexOf("?")?a+"?"+c.join("&"):a+"&"+c.join("&"):a},Ja:function(a){var b=a.lastIndexOf("\n\n"),c=a.lastIndexOf("\r\r");
a=a.lastIndexOf("\r\n\r\n");return a>Math.max(b,c)?[a,a+4]:[Math.max(b,c),Math.max(b,c)+2]},Za:function(a){return a.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},La:function(a){return a.replace(/\r\n|\r/g,"\n")}};if(window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType){d.l="IE_8-9";var c=d.prototype.da;c.na=null;c.s.evs_preamble=2056;d.prototype.C=function(a){this.i=request=new XDomainRequest;request.onprogress=function(){request.$=!0;a.O()};request.onload=function(){this.Z=
!0;a.O()};request.onerror=function(){this.m=!0;a.readyState=a.CLOSED;a.dispatchEvent("error",{type:"error",data:"XDomainRequest error"})};request.ontimeout=function(){this.m=!0;a.readyState=a.CLOSED;a.dispatchEvent("error",{type:"error",data:"XDomainRequest timed out"})};var b={};if(a.s){var c=a.s,d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);a.lastEventId&&(b.evs_last_event_id=a.lastEventId)}request.open("GET",a.ma(a.URL,b));request.send()};d.prototype.C.prototype={i:null,$:!1,Z:!1,m:!1,ia:function(){return this.i.$},
ha:function(){return this.i.Z},ga:function(){return this.i.m},fa:function(){var a="";try{a=this.i.responseText||""}catch(b){}return a},abort:function(){this.i&&this.i.abort()}}}else d.l="XHR",d.prototype.C=function(a){this.i=request=new XMLHttpRequest;a.o=this;request.onreadystatechange=function(){1<request.readyState&&a.readyState!=a.CLOSED&&(200==request.status||300<=request.status&&400>request.status?a.O():(request.m=!0,a.readyState=a.CLOSED,a.dispatchEvent("error",{type:"error",data:"The server responded with "+
request.status}),a.close()))};request.onprogress=function(){};request.open("GET",a.ma(a.URL,a.s),!0);var b=a.na,c;for(c in b)b.hasOwnProperty(c)&&request.setRequestHeader(c,b[c]);a.lastEventId&&request.setRequestHeader("Last-Event-Id",a.lastEventId);request.send()},d.prototype.C.prototype={i:null,m:!1,ia:function(){return 2<=this.i.readyState},ha:function(){return 4==this.i.readyState},ga:function(){return this.m||400<=this.i.status},fa:function(){var a="";try{a=this.i.responseText||""}catch(b){}return a},
abort:function(){this.i&&this.i.abort()}};a[b]=d}})(this);
var CryptoJS=CryptoJS||function(a,e){var b={},d=b.lib={},c=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;b&&c.mixIn(b);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},
clone:function(){return this.init.prototype.extend(this)}}}(),m=d.WordArray=c.extend({init:function(a,b){a=this.h=a||[];b!=e?this.f=b:this.f=4*a.length},toString:function(a){return(a||f).stringify(this)},concat:function(a){var b=this.h,c=a.h,d=this.f;a=a.f;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.f+=a;return this},clamp:function(){var b=this.h,c=this.f;b[c>>>2]&=
4294967295<<32-c%4*8;b.length=a.ceil(c/4)},clone:function(){var a=c.clone.call(this);a.h=this.h.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new m.init(c,b)}}),g=b.enc={},f=g.Hex={stringify:function(a){var b=a.h;a=a.f;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<
24-d%8*4;return new m.init(c,b/2)}},v=g.Latin1={stringify:function(a){var b=a.h;a=a.f;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new m.init(c,b)}},p=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(v.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return v.parse(unescape(encodeURIComponent(a)))}},
r=d.BufferedBlockAlgorithm=c.extend({reset:function(){this.u=new m.init;this.N=0},_append:function(a){"string"==typeof a&&(a=p.parse(a));this.u.concat(a);this.N+=a.f},_process:function(b){var c=this.u,d=c.h,e=c.f,g=this.blockSize,f=e/(4*g),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*g;e=a.min(4*b,e);if(b){for(var p=0;p<b;p+=g)this._doProcessBlock(d,p);p=d.splice(0,b);c.f-=e}return new m.init(p,e)},clone:function(){var a=c.clone.call(this);a.u=this.u.clone();return a},_minBufferSize:0});d.Hasher=
r.extend({cfg:c.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new pa.HMAC.init(a,c)).finalize(b)}}});var pa=b.algo={};return b}(Math);
(function(a){var e=CryptoJS.lib,b=e.Base,d=e.WordArray,e=CryptoJS.x64={};e.Word=b.extend({init:function(a,b){this.b=a;this.c=b}});e.WordArray=b.extend({init:function(b,d){b=this.h=b||[];d!=a?this.f=d:this.f=8*b.length},toX32:function(){for(var a=this.h,b=a.length,e=[],f=0;f<b;f++){var v=a[f];e.push(v.b);e.push(v.c)}return d.create(e,this.f)},clone:function(){for(var a=b.clone.call(this),d=a.h=this.h.slice(0),e=d.length,f=0;f<e;f++)d[f]=d[f].clone();return a}})})();
(function(){var a=CryptoJS.enc.Utf8;CryptoJS.algo.HMAC=CryptoJS.lib.Base.extend({init:function(e,b){e=this.L=new e.init;"string"==typeof b&&(b=a.parse(b));var d=e.blockSize,c=4*d;b.f>c&&(b=e.finalize(b));b.clamp();for(var m=this.Da=b.clone(),g=this.Ca=b.clone(),f=m.h,v=g.h,p=0;p<d;p++)f[p]^=1549556828,v[p]^=909522486;m.f=g.f=c;this.reset()},reset:function(){var a=this.L;a.reset();a.update(this.Ca)},update:function(a){this.L.update(a);return this},finalize:function(a){var b=this.L;a=b.finalize(a);
b.reset();return b.finalize(this.Da.clone().concat(a))}})})();
(function(){function a(){return d.create.apply(d,arguments)}var e=CryptoJS.lib.Hasher,b=CryptoJS.x64,d=b.Word,c=b.WordArray,b=CryptoJS.algo,m=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,
633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),
a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,
3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,
3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],g=[];(function(){for(var b=0;80>b;b++)g[b]=a()})();b=b.SHA512=e.extend({_doReset:function(){this.D=new c.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(a,b){for(var c=
this.D.h,d=c[0],e=c[1],O=c[2],P=c[3],Q=c[4],R=c[5],S=c[6],c=c[7],ga=d.b,T=d.c,ha=e.b,U=e.c,ia=O.b,V=O.c,ja=P.b,W=P.c,ka=Q.b,X=Q.c,la=R.b,Y=R.c,ma=S.b,Z=S.c,na=c.b,aa=c.c,x=ga,t=T,I=ha,F=U,J=ia,G=V,da=ja,K=W,y=ka,u=X,ba=la,L=Y,ca=ma,M=Z,ea=na,N=aa,z=0;80>z;z++){var C=g[z];if(16>z)var w=C.b=a[b+2*z]|0,k=C.c=a[b+2*z+1]|0;else{var w=g[z-15],k=w.b,A=w.c,w=(k>>>1|A<<31)^(k>>>8|A<<24)^k>>>7,A=(A>>>1|k<<31)^(A>>>8|k<<24)^(A>>>7|k<<25),E=g[z-2],k=E.b,n=E.c,E=(k>>>19|n<<13)^(k<<3|n>>>29)^k>>>6,n=(n>>>19|k<<
13)^(n<<3|k>>>29)^(n>>>6|k<<26),k=g[z-7],fa=k.b,D=g[z-16],B=D.b,D=D.c,k=A+k.c,w=w+fa+(k>>>0<A>>>0?1:0),k=k+n,w=w+E+(k>>>0<n>>>0?1:0),k=k+D,w=w+B+(k>>>0<D>>>0?1:0);C.b=w;C.c=k}var fa=y&ba^~y&ca,D=u&L^~u&M,C=x&I^x&J^I&J,qa=t&F^t&G^F&G,A=(x>>>28|t<<4)^(x<<30|t>>>2)^(x<<25|t>>>7),E=(t>>>28|x<<4)^(t<<30|x>>>2)^(t<<25|x>>>7),n=m[z],ra=n.b,oa=n.c,n=N+((u>>>14|y<<18)^(u>>>18|y<<14)^(u<<23|y>>>9)),B=ea+((y>>>14|u<<18)^(y>>>18|u<<14)^(y<<23|u>>>9))+(n>>>0<N>>>0?1:0),n=n+D,B=B+fa+(n>>>0<D>>>0?1:0),n=n+oa,B=
B+ra+(n>>>0<oa>>>0?1:0),n=n+k,B=B+w+(n>>>0<k>>>0?1:0),k=E+qa,C=A+C+(k>>>0<E>>>0?1:0),ea=ca,N=M,ca=ba,M=L,ba=y,L=u,u=K+n|0,y=da+B+(u>>>0<K>>>0?1:0)|0,da=J,K=G,J=I,G=F,I=x,F=t,t=n+k|0,x=B+C+(t>>>0<n>>>0?1:0)|0}T=d.c=T+t;d.b=ga+x+(T>>>0<t>>>0?1:0);U=e.c=U+F;e.b=ha+I+(U>>>0<F>>>0?1:0);V=O.c=V+G;O.b=ia+J+(V>>>0<G>>>0?1:0);W=P.c=W+K;P.b=ja+da+(W>>>0<K>>>0?1:0);X=Q.c=X+u;Q.b=ka+y+(X>>>0<u>>>0?1:0);Y=R.c=Y+L;R.b=la+ba+(Y>>>0<L>>>0?1:0);Z=S.c=Z+M;S.b=ma+ca+(Z>>>0<M>>>0?1:0);aa=c.c=aa+N;c.b=na+ea+(aa>>>0<N>>>
0?1:0)},_doFinalize:function(){var a=this.u,b=a.h,c=8*this.N,d=8*a.f;b[d>>>5]|=128<<24-d%32;b[(d+128>>>10<<5)+30]=Math.floor(c/4294967296);b[(d+128>>>10<<5)+31]=c;a.f=4*b.length;this._process();return this.D.toX32()},clone:function(){var a=e.clone.call(this);a.D=this.D.clone();return a},blockSize:32});CryptoJS.SHA512=e._createHelper(b);CryptoJS.HmacSHA512=e._createHmacHelper(b)})();
(function(){var a=CryptoJS.lib.WordArray;CryptoJS.enc.Base64={stringify:function(a){var b=a.h,d=a.f,c=this._map;a.clamp();a=[];for(var m=0;m<d;m+=3)for(var g=(b[m>>>2]>>>24-m%4*8&255)<<16|(b[m+1>>>2]>>>24-(m+1)%4*8&255)<<8|b[m+2>>>2]>>>24-(m+2)%4*8&255,f=0;4>f&&m+.75*f<d;f++)a.push(c.charAt(g>>>6*(3-f)&63));if(b=c.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(e){var b=e.length,d=this._map,c=d.charAt(64);c&&(c=e.indexOf(c),-1!=c&&(b=c));for(var c=[],m=0,g=0;g<b;g++)g%4&&(c[m>>>
2]|=(d.indexOf(e.charAt(g-1))<<g%4*2|d.indexOf(e.charAt(g))>>>6-g%4*2)<<24-m%4*8,m++);return a.create(c,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();var h={l:function(a,e,b){e=e.split(".");for(var d=0;d<e.length-1;d++)a=a[e[d]];this.a(a,e[e.length-1],b)},a:function(a,e,b){a[e]=b}};var l=function(){function a(a,b){return a.replace(/{(\d+)}/g,function(a,d){var f;if(b[d]&&"object"===typeof b[d]&&b[d]instanceof Error)try{f=b[d].message,b[d].stack&&e.error(b[d].stack)}catch(v){f=b[d]}else if(b[d]&&"object"===typeof b[d])try{b[d].toString!==Object.prototype.toString?f=b[d].toString():f=JSON.stringify(b[d])}catch(p){f=b[d]}else b[d]&&"function"===typeof b[d]?f="function":f=b[d]?b[d]:a;f=""+f;return f.substring(0,Math.min(500,f.length))})}var e=window.console,b=2;return{oa:3,pa:2,
qa:1,ERROR:0,Xa:function(a){b=a},debug:function(){3<=b&&e&&e.log&&e.log(a(arguments[0],Array.prototype.slice.call(arguments,1)))},info:function(){2<=b&&e&&e.info&&e.info(a(arguments[0],Array.prototype.slice.call(arguments,1)))},warn:function(){1<=b&&e&&e.warn&&e.warn(a(arguments[0],Array.prototype.slice.call(arguments,1)))},error:function(){0<=b&&e&&e.error&&e.error(a(arguments[0],Array.prototype.slice.call(arguments,1)))}}}();var SessionStorage;a:{try{SessionStorage=window.sessionStorage;break a}catch(sa){}SessionStorage=void 0};var q=function(a){return{g:function(a,b){if("undefined"===typeof a||null===a){if(b)throw Error(b);throw Error("value cannot be null");}return a},T:function(e,b){this.g(e,"functionName cannot be null");this.g(b,"message cannot be null");a.warn("Deprecated: function '{0}' is deprecated because '{1}'.",e,b)},ba:function(a,b){if(!a){if(b)throw Error(b);throw Error("expression is not valid");}},l:function(a,b){if(!a){if(b)throw Error(b);throw Error("expression is not valid");}}}}(l);function H(a){q.g(a,"bind cannot be null");this.ra=a;this.w=[]}H.prototype={B:function(){for(var a=this.w.slice(),e=0,b=a.length;e<b;e++)try{var d=a[e];d&&d.apply(this.ra,arguments)}catch(c){l.error("Unable to forward event: {0}",c)}},add:function(a){q.g(a,"listener cannot be null");q.ba(-1==this.w.indexOf(a),"listener already exists");this.w.push(a)},remove:function(a){q.g(a,"listener cannot be null");a=this.w.indexOf(a);q.ba(0<=a,"listener not exists");this.w.splice(a,1)}};function StreamdataEventSource(a,e){q.g(a,"url cannot be null.");e=e||[];var b=this;b.streamdataConfig={PROTOCOL:"https://",HOST:"streamdata.motwin.net",PORT:""};b.keyFile="/streamdataio.json";b.j=null;b.v=!1;b.S=a;b.P=new H(b);b.I=new H(b);b.R=new H(b);b.J=new H(b);b.M=new H(b);b.H=!1;b.Ba=e;b.Y={type:"UnknownError",status:1E3,message:"An error occurs. Please check your console logs for more details.",source:"server"};b.open=function(){q.g(b.S,"url cannot be null");b.close();var a=b.wa(b.S,b.Ba);
a&&(b.j=new EventSource(a),b.j.addEventListener("open",function(a){l.debug("SSE Stream Opened to "+b.S+"event: "+JSON.stringify(a));b.v=!0;b.P.B()}),b.j.addEventListener("error",function(a){l.debug("Error with SSE at "+a+": closing the stream.");b.j.close();b.v=!1;b.J.B(b.ta(a))}),b.j.addEventListener("data",function(a){l.debug("Received data:"+a.data);b.I.B(JSON.parse(a.data))}),b.j.addEventListener("patch",function(a){l.debug("Received patch:"+a.data);b.R.B(JSON.parse(a.data))}),b.j.addEventListener("monitor",
function(a){l.debug("Received monitor:"+a.data);b.M.B(JSON.parse(a.data))}));return this};b.close=function(){b.v&&null!==b.j&&(l.info("Closing the SSE Stream."),b.j.close(),b.v=!1);return this};b.Fa=function(){var a=null;b.H=!1;var c=b.Aa();if(c)try{a=JSON.parse(c)}catch(e){}if(!a)try{var g=b.za(b.keyFile);g&&(a=JSON.parse(g))}catch(f){}a||b.W(streamdataio.pk)||b.W(streamdataio.Pk)||(a={Pk:"",pk:""},a.pk=streamdataio.pk,a.Pk=streamdataio.Pk);return b.xa(a)};b.xa=function(a){var c=["","",""];if(a)try{var e=
CryptoJS.enc.Base64.parse(a.pk),g=CryptoJS.enc.Utf8.stringify(e);72==g.length&&(b.H=!0,b.Ga(JSON.stringify(a)),c=[g.substring(0,36),g.substring(36),a.Pk])}catch(f){b.Ea()}return c};b.wa=function(a,c){q.g(a,"url cannot be null");c=c||[];var e=document.createElement("a");e.href=a;var g="",f=/\/\/(.*@)/g.exec(a),f=f?f=f[1]:"",f=e.protocol+"//"+f+e.hostname+(0==e.pathname.indexOf("/")?"":"/")+e.pathname+e.search,v=b.va(f,c);0<v.length&&(g=(-1===e.search.indexOf("?")?"?":"&")+v.join("&"));e=b.streamdataConfig.PROTOCOL+
b.streamdataConfig.HOST+(b.W(b.streamdataConfig.PORT)?"":":")+b.streamdataConfig.PORT+"/"+f+g;l.debug("converted url :"+e);return e};b.va=function(a,c){c=c||[];var e=b.ua(c),g=b.sa(a);return e.concat(g)};b.sa=function(a){var c=[],e=b.Fa();if(b.H){var g=""+Date.now();a=CryptoJS.HmacSHA512("GET\n"+g+"\n"+a+"\n",e[1]);a=CryptoJS.enc.Base64.stringify(a);a=CryptoJS.enc.Utf8.parse(e[0]+a);a=CryptoJS.enc.Base64.stringify(a);c.push("X-Auth-Sd-Pk="+encodeURIComponent(e[2]));c.push("X-Auth-Sd-Ts="+encodeURIComponent(g));
c.push("X-Auth-Sd-S="+encodeURIComponent(a))}return c};b.ua=function(a){a=a||[];return a.map(function(a){return"X-Sd-Header="+encodeURIComponent(a)})};b.Aa=function(){return SessionStorage&&streamdataio.sessionStore?SessionStorage.getItem(b.K()):null};b.Ga=function(a){SessionStorage&&streamdataio.sessionStore&&SessionStorage.setItem(b.K(),a)};b.Ea=function(){SessionStorage&&SessionStorage.removeItem(b.K())};b.za=function(a){var b="",e=new XMLHttpRequest;e.open("GET",a,!1);e.send(null);200===e.status&&
(b=e.responseText);return b};b.K=function(){return String.fromCharCode(95)+String.fromCharCode(80)+String.fromCharCode(107)};b.ta=function(a){q.g(a,"event cannot be null");var c=b.Y;try{var e=JSON.parse(a.data);c.type=e.cause;c.message=e.message;c.status=e.status}catch(g){c=b.Y}c.source="server";console.log(JSON.stringify(c));return new StreamdataError(c.type,c.message,c.status,c.source,!0)};b.W=function(a){return!a||0===a.length}}
StreamdataEventSource.prototype={Ua:function(a){q.g(a,"listener cannot be null");this.P.add(a);return this},Sa:function(a){q.g(a,"listener cannot be null");this.J.add(a);return this},Ra:function(a){q.g(a,"listener cannot be null");this.I.add(a);return this},Va:function(a){q.g(a,"listener cannot be null");this.R.add(a);return this},Ta:function(a){q.g(a,"listener cannot be null");this.M.add(a);return this},Pa:function(a){q.g(a,"listener cannot be null");this.P.remove(a);return this},Na:function(a){q.g(a,
"listener cannot be null");this.J.remove(a);return this},Ma:function(a){q.g(a,"listener cannot be null");this.I.remove(a);return this},Qa:function(a){q.g(a,"listener cannot be null");this.R.remove(a);return this},Oa:function(a){q.g(a,"listener cannot be null");this.M.remove(a);return this},Ia:function(){return this.v}};function StreamdataError(a,e,b,d,c){this.l=d;this.ea=a;this.T=e;this.Ha=c||!1;this.aa=b;h.a(this,"source",this.l);h.a(this,"type",this.ea);h.a(this,"message",this.T);h.a(this,"status",this.aa)}StreamdataError.prototype={isFatal:function(){return this.Ha},isServer:function(){return"server"==this.l},isClient:function(){return"client"==this.l},getMessage:function(){return this.T},getStatus:function(){return this.aa},getType:function(){return this.ea}};var streamdataio=new function(){this.sessionStore=!1};h.a(streamdataio,"Logger",l);h.a(l,"DEBUG",l.oa);h.a(l,"INFO",l.pa);h.a(l,"WARN",l.qa);h.a(l,"ERROR",l.ERROR);h.a(l,"setLevel",l.Xa);h.a(l,"debug",l.debug);h.a(l,"info",l.info);h.a(l,"warn",l.warn);h.a(l,"error",l.error);
h.a(streamdataio,"createEventSource",function(a,e){q.g(a,"url cannot be null");e=e||[];0!=a.lastIndexOf("http://",0)&&0!=a.lastIndexOf("https://",0)&&(a="http://"+a,l.warn("url has no default protocol defined. Add http:// as a default protocol."));return new StreamdataEventSource(a,e)});h.a(StreamdataError.prototype,"isFatal",StreamdataError.prototype.isFatal);h.a(StreamdataError.prototype,"isServer",StreamdataError.prototype.isServer);h.a(StreamdataError.prototype,"isClient",StreamdataError.prototype.isClient);
h.a(StreamdataError.prototype,"getMessage",StreamdataError.prototype.getMessage);h.a(StreamdataError.prototype,"getStatus",StreamdataError.prototype.getStatus);h.a(StreamdataError.prototype,"getType",StreamdataError.prototype.getType);h.a(StreamdataEventSource.prototype,"open",StreamdataEventSource.prototype.connect);h.a(StreamdataEventSource.prototype,"onOpen",StreamdataEventSource.prototype.Ua);h.a(StreamdataEventSource.prototype,"onError",StreamdataEventSource.prototype.Sa);
h.a(StreamdataEventSource.prototype,"onData",StreamdataEventSource.prototype.Ra);h.a(StreamdataEventSource.prototype,"onPatch",StreamdataEventSource.prototype.Va);h.a(StreamdataEventSource.prototype,"onMonitor",StreamdataEventSource.prototype.Ta);h.a(StreamdataEventSource.prototype,"offOpen",StreamdataEventSource.prototype.Pa);h.a(StreamdataEventSource.prototype,"offError",StreamdataEventSource.prototype.Na);h.a(StreamdataEventSource.prototype,"offData",StreamdataEventSource.prototype.Ma);
h.a(StreamdataEventSource.prototype,"offPatch",StreamdataEventSource.prototype.Qa);h.a(StreamdataEventSource.prototype,"offMonitor",StreamdataEventSource.prototype.Oa);h.a(StreamdataEventSource.prototype,"isConnected",StreamdataEventSource.prototype.Ia);
